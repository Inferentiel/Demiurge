execute as @e[type=minecraft:minecart] at @s if block ~ ~ ~ minecraft:powered_rail[powered=true,shape=east_west] if block ~1 ~ ~ minecraft:powered_rail[powered=true,shape=east_west] if block ~2 ~ ~ minecraft:powered_rail[powered=true,shape=east_west] if block ~3 ~ ~ minecraft:powered_rail[powered=true,shape=east_west] if entity @s[nbt={Motion:[2.054d,0.0d,0.0d]}] run tp ^3 ^ ^
execute as @e[type=minecraft:minecart] at @s if block ~ ~ ~ minecraft:powered_rail[powered=true,shape=east_west] if block ~-1 ~ ~ minecraft:powered_rail[powered=true,shape=east_west] if block ~-2 ~ ~ minecraft:powered_rail[powered=true,shape=east_west] if block ~-3 ~ ~ minecraft:powered_rail[powered=true,shape=east_west] if entity @s[nbt={Motion:[-2.054d,0.0d,0.0d]}] run tp ^-3 ^ ^
execute as @e[type=minecraft:minecart] at @s if block ~ ~ ~ minecraft:powered_rail[powered=true,shape=north_south] if block ~ ~ ~1 minecraft:powered_rail[powered=true,shape=north_south] if block ~ ~ ~2 minecraft:powered_rail[powered=true,shape=north_south] if block ~ ~ ~3 minecraft:powered_rail[powered=true,shape=north_south] if entity @s[nbt={Motion:[0.0d,0.0d,2.054d]}] run tp ^3 ^ ^
execute as @e[type=minecraft:minecart] at @s if block ~ ~ ~ minecraft:powered_rail[powered=true,shape=north_south] if block ~ ~ ~-1 minecraft:powered_rail[powered=true,shape=north_south] if block ~ ~ ~-2 minecraft:powered_rail[powered=true,shape=north_south] if block ~ ~ ~-3 minecraft:powered_rail[powered=true,shape=north_south] if entity @s[nbt={Motion:[0.0d,0.0d,-2.054d]}] run tp ^-3 ^ ^